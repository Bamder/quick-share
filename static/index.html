<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>取件码分享页</title>
  <style>
    body{font-family:Arial;margin:20px;background:#f7f7f7}
    section{background:#fff;padding:15px;margin:10px 0}
    button{padding:8px;margin-top:10px}
    input{width:200px;padding:8px;margin-top:5px}
  </style>
</head>
<body>

<header>
  <h1>取件码文件分享</h1>
  <!-- <p>端口验证 + P2P 传输</p> -->
</header>

<!-- 文件上传 -->
<section>
  <h2>① 拖文件</h2>
  <div id="dropArea"><span>📂 把文件拖到这里</span><input type="file" id="fileInput"></div>
  <p>已选：<span id="fileName">未选择</span></p>
  <label>有效期（分钟）：
    <select id="expireSelect"><option>5</option><option selected>30</option><option>60</option><option>1440</option></select>
  </label>
  <label>可领取次数：
    <select id="limitSelect"><option>1</option><option selected>3</option><option>10</option><option>999</option></select>
  </label>
  <button id="shareBtn" disabled>生成取件码</button>
</section>

<!-- 取件码 + 状态 -->
<section id="codeSec" style="display:none">
  <h2>② 取件码</h2>
  <h3 id="pickupCode"></h3>
  <div>二维码区域</div>
  <button id="copyCodeBtn">复制取件码</button>

  <h3>分享状态</h3>
  <table border="1" cellpadding="8">
    <tr><td>文件大小</td><td id="statSize">-</td></tr>
    <tr><td>剩余时间</td><td id="statTime">-</td></tr>
    <tr><td>已领取/总次数</td><td id="statCount">0 / 0</td></tr>
    <tr><td>状态</td><td id="statStatus">等待中</td></tr>
  </table>

  <button id="reportBtn">举报文件</button>
</section>

<!-- 领取文件 -->
<section>
  <h2>③ 输入取件码领取文件</h2>
  <input id="inputCode" placeholder="6 位取件码" maxlength="6">
  <button id="receiveBtn">领取文件</button>
  <div>进度条</div>
  <a id="downloadLink" style="display:none">下载文件</a>
</section>

<!-- 端口验证 -->
<section>
  <h2>④ 端口验证</h2>
  <label>后端端口：
    <input id="portInput" type="number" value="8000" min="1" max="65535">
  </label>
  <button id="testBtn">测试连接</button>
  <span id="portResult"></span>
</section>

<script src="app.js"></script>
</body>
</html>